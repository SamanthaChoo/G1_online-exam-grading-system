{% extends 'base.html' %}
{% block title %}{{ 'Edit MCQ' if mcq else 'Add MCQ' }}{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2>{{ 'Edit MCQ' if mcq else 'Add New MCQ' }}</h2>
  <form method="post" action="{% if mcq %}/exams/mcq/{{ mcq.id }}/edit{% else %}/exams/{{ exam.id }}/mcq/new{% endif %}">
    <div class="mb-3">
      <label for="question_text" class="form-label">Question</label>
      <textarea class="form-control" id="question_text" name="question_text" required>{{ mcq.question_text if mcq else '' }}</textarea>
    </div>
    <div class="mb-3">
      <label class="form-label">Options</label>
      <input class="form-control mb-2" type="text" name="option_a" placeholder="Option A" value="{{ mcq.option_a if mcq else '' }}" required>
      <input class="form-control mb-2" type="text" name="option_b" placeholder="Option B" value="{{ mcq.option_b if mcq else '' }}" required>
      <input class="form-control mb-2" type="text" name="option_c" placeholder="Option C" value="{{ mcq.option_c if mcq else '' }}" required>
      <input class="form-control mb-2" type="text" name="option_d" placeholder="Option D" value="{{ mcq.option_d if mcq else '' }}" required>
    </div>
    <div class="mb-3">
      <label for="correct_option" class="form-label">Correct Option</label>
      <select class="form-select" id="correct_option" name="correct_option" required>
        <option value="A" {% if mcq and mcq.correct_option=='A' %}selected{% endif %}>A</option>
        <option value="B" {% if mcq and mcq.correct_option=='B' %}selected{% endif %}>B</option>
        <option value="C" {% if mcq and mcq.correct_option=='C' %}selected{% endif %}>C</option>
        <option value="D" {% if mcq and mcq.correct_option=='D' %}selected{% endif %}>D</option>
      </select>
    </div>
    <button type="submit" class="btn btn-success">{{ 'Update' if mcq else 'Create' }}</button>
    <a href="/exams/{{ exam.id }}/mcq" class="btn btn-secondary">Cancel</a>
    <a href="/exams/{{ exam.id }}/mcq" class="btn btn-outline-primary ms-2">View All MCQs</a>
  </form>
</div>
{% endblock %}
